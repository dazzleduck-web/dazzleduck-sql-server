<?xml version="1.0" encoding="UTF-8"?>
<!--
  Per-component logback configuration â€” no logback.xml needed.

  Naming convention: <component>-logback.xml
  Drop this file in src/main/resources/ and DazzleDuckLogbackConfigurator
  will pick it up automatically on startup.

  Supported root elements:
    - Bare <appender> element (as shown here)
    - Full <configuration> block containing a LogForwardingAppender <appender>

  Optional <logger> child: attach this appender to a specific logger instead
  of the root logger.
-->
<appender name="CONTROLLER" class="io.dazzleduck.sql.logback.LogForwardingAppender">
    <baseUrl>http://localhost:8081</baseUrl>
    <username>admin</username>
    <password>admin</password>
    <ingestionQueue>controller-logs</ingestionQueue>
    <minBatchSize>1024</minBatchSize>
    <project>*, CAST(timestamp AS DATE) AS date</project>
    <partitionBy>date</partitionBy>
    <!-- optional: attach to a specific logger instead of root -->
    <!-- <logger>com.example.controller</logger> -->
</appender>
